{% extends "base.html" %}

{% block title %}Login{% endblock %}

{% block content %}
<div style="
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: calc(100vh - 100px);
    padding-top: 56px;
    background-color: #f8f9fa;
">
    <form method="post" novalidate style="
        background: #fff;
        padding: 2rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        max-width: 400px;
        width: 100%;
    ">
        <h2 style="text-align: center; margin-bottom: 1.5rem;">Welcome Back üëã</h2>

        {{ form.hidden_tag() }}

        <!-- Email -->
        <div style="margin-bottom: 1.5rem;">
            <label style="font-weight: 600;">{{ form.email.label }}</label>
            {{ form.email(class_="form-control", placeholder="you@example.com") }}
            {% for error in form.email.errors %}
                <small style="color: red;">{{ error }}</small>
            {% endfor %}
        </div>

        <!-- Password with Toggle -->
        <div style="margin-bottom: 1.5rem; position: relative;">
            <label style="font-weight: 600;">{{ form.password.label }}</label>
            {{ form.password(class_="form-control", id="password", placeholder="Enter password") }}
            <button type="button" onclick="togglePassword()" style="
                position: absolute;
                right: 10px;
                top: 38px;
                background: none;
                border: none;
                cursor: pointer;
            ">
                üëÅÔ∏è
            </button>
            {% for error in form.password.errors %}
                <small style="color: red;">{{ error }}</small>
            {% endfor %}
        </div>

        <!-- Remember Me -->
        <div class="form-check mb-3">
            {{ form.remember_me(class_="form-check-input") }}
            <label class="form-check-label">{{ form.remember_me.label.text }}</label>
        </div>

        <!-- Submit -->
        <div class="d-grid mb-3">
            {{ form.submit(class_="btn btn-primary") }}
        </div>

        <!-- Social Login (Example Google) -->
        <div class="text-center mb-3">
<!--            <p>or login with</p>-->
            <a href="" class="btn btn-outline-secondary w-100">
                <img src="https://developers.google.com/identity/images/g-logo.png" width="20" class="me-2">
                Sign in with Google
            </a>
        </div>
<!--        <p style="text-align: center; margin: 20px 0;">or</p>-->
        <a href="{{ url_for('otp_login') }}">
            <button type="button"
                    style="width: 100%; padding: 10px; background: #6c5ce7; color: white; border: none; border-radius: 5px;">
                Login with OTP
            </button>
        </a>

        <!-- Links -->
        <p class="text-center mb-1">
            <a href="{{ url_for('reset_password_request') }}">Forgot your password?</a>
        </p>
        <p class="text-center">
            New here? <a href="{{ url_for('register') }}">Click to register</a>
        </p>
    </form>
</div>

<!-- Password toggle script -->
<script>
function togglePassword() {
    const input = document.getElementById('password');
    input.type = input.type === 'password' ? 'text' : 'password';
}
</script>
{% endblock %}
